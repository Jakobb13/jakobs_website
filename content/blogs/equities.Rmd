---
categories:  
- ""    #the front matter should be like the one found in, e.g., blog2.md. It cannot be like the normal Rmd we used
- ""
date: "2021-09-30"
description: Risk-Return of DJIA stocks # the title that will show up once someone gets to this page
draft: false
image: spices.jpg # save picture in \static\img\blogs. Acceptable formats= jpg, jpeg, or png . Your iPhone pics wont work

keywords: ""
slug: risk_return # slug is the shorthand URL address... no spaces plz
title: Risk-Return of DJIA stocks
---
  



```{r, setup, echo=FALSE}
knitr::opts_chunk$set(
  message = FALSE, 
  warning = FALSE, 
  tidy=FALSE,     # display code as typed
  size="small")   # slightly smaller font for code
options(digits = 3)

# default figure size
knitr::opts_chunk$set(
  fig.width=6.75, 
  fig.height=6.75,
  fig.align = "center"
)
```


```{r load-libraries, warning=FALSE, message=FALSE, echo=FALSE}
library(tidyverse)  # Load ggplot2, dplyr, and all the other tidyverse packages
library(lubridate)
library(here)
library(skimr)
library(janitor)
library(vroom)
library(tidyquant)
library(rvest)    # scrape websites
library(purrr)  
library(lubridate) #to handle dates
library(ggrepel)
```




cpi_data <- read_csv(here::here("data", "cpi_data.csv"))

cpi<-cpi_data %>% 
  separate(title,into=c("generic","title"),sep=": ") %>%
  separate(title,into=c("title", "generic_2"), sep=" in U.S.") %>% 
  mutate(date=dmy(date)) %>% 
  arrange(date) %>%
  filter(year(date)>=2015) %>% 
  group_by(component) %>%
  mutate(year_change=value/lag(value,12) - 1) %>% 
  mutate(max_change=max(year_change, na.rm=TRUE))

